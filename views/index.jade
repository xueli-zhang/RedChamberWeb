extends layout

block content
	img#bkg(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/homeBkg.jpg')
	img#bkg2(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/homeBkg.jpg')
	audio#ost(autoplay loop)
			source(src='https://dl.dropboxusercontent.com/u/23011911/public/musics/homeOst.mp3' type='audio/mp3')
	section.masthead
		.covervid-wrapper
			video#bkgVid.masthead-video(name='bkgVid' muted autoplay loop)
				source(src='https://dl.dropboxusercontent.com/u/23011911/public/Videos/homePageBk.mp4' type='video/mp4')
		.container
			button#muteBtn(type="button" title="靜音(mute)")
				img(id='mute' src='https://83fcad1b71ffbe94c363de4ac378b71a6463a5e8.googledrive.com/host/0B2HAvB_6mypLflVOZDRjNGpRdElPTGFZMjZneFBCblFWazh1WlMtSmJBLWI2WGFwY0VqVEE/mute.png')
			button#unmuteBtn(type="button" title="放音(unmute)")
				img(id='ummute' src='https://83fcad1b71ffbe94c363de4ac378b71a6463a5e8.googledrive.com/host/0B2HAvB_6mypLflVOZDRjNGpRdElPTGFZMjZneFBCblFWazh1WlMtSmJBLWI2WGFwY0VqVEE/unmute.png')

			button#showBtn(type="button" title="顯示界面(show menu)")
				img(id='show' src='https://dl.dropboxusercontent.com/u/23011911/public/images/home/title.png')
			span#right ©2015 Xueli Zhang. All rights reserved. 

		.content
			.component

				ul#navBar
					li
						a#story(href='#') 劇情透析
					li
						a#walkThrough(href='#') 攻關秘籍
					li
						a#devLog(href='#') 開發日誌
					li
						a#froum(href='#') 遊戲討論
					li
						a#onlineChat(href='#') 在線交流
					li
						a#credits(href='#') 開發人員
					li
						a#email(href='#') 郵件我們
					li
						button#logIn(type="button") 玩家登錄
					li
						button#signUp(type="button") 玩家註冊
					
				button#hideBtn(type="button" title="隱藏界面(hide menu)")
					img(id='hide' src='https://83fcad1b71ffbe94c363de4ac378b71a6463a5e8.googledrive.com/host/0B2HAvB_6mypLflVOZDRjNGpRdElPTGFZMjZneFBCblFWazh1WlMtSmJBLWI2WGFwY0VqVEE/hide.png')
				#showInfo
					img#storyPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/stroyPic.jpg')
					img#wlkTPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/wlkTPic.jpg')
					img#devLogPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/devLogPic.jpg')
					img#froumPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/froumPic.jpg')
					img#oCPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/oCPic.jpg')
					img#creidtsPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/cridtsPic.jpg')
					img#emailPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/emailPic.jpg')
					img#logInPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/logInPic.jpg')
					img#signUpPic(src='https://88f7585151da6f0eb044adb480012d24af7f35ca.googledrive.com/host/0B8VElOPvAs5qVHlhNTRHbmVkLW8/signUpPic.jpg')

				.clock
					#Date
					ul
						li#hours  
						li#point :
						li#min  
						li#point :
						li#sec  
		
			
			form#logInPad(method="post")
				.title 歡迎登入
				.inputContent
					input#logUN(type="text" name="name" placeholder="請輸入玩家名稱")
				.inputContent
					input#logPW(type="password" name="password" placeholder="請輸入玩家密碼")
				.padButtons
					button#logInBtn(type="button") 登入
				.padButtons
					button#cancel1(type="button") 取消
				#logErr

			
			form#signUpPad(method="post")
				.title 歡迎註冊
				.inputContent
					input#signUN(type="text" name="name" placeholder="請輸入玩家名稱")
				.inputContent
					input#signPW(type="password" name="password" placeholder="請輸入玩家密碼")
				.inputContent
					input#signRPW(type="password" name="rePassword" placeholder="確認玩家密碼")
				.inputContent
					input#emailInput(type="email" name="email" placeholder="請輸入玩家郵箱")
				.padButtons
					button#signUpBtn(type="button") 注册
				.padButtons
					button#cancel2(type='button') 取消
				#signErr



	script(src='https://8d7f269174c15abe9b5a9bd3af9be6abd03bcfb6.googledrive.com/host/0B8VElOPvAs5qTmQteXJzVnJVMEE/covervid.js')
	script(src='https://8d7f269174c15abe9b5a9bd3af9be6abd03bcfb6.googledrive.com/host/0B8VElOPvAs5qTmQteXJzVnJVMEE/scripts.js')

	script.
		$(function(){
			var monthNames = [ "一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月" ]; 
			var dayNames= ["週日","週一","週二","週三","週四","週五","週六"]


			var newDate = new Date();
			newDate.setDate(newDate.getDate());

			$('#Date').html(newDate.getFullYear() + " " + monthNames[newDate.getMonth()] + ' ' + newDate.getDate() + '日 ' + dayNames[newDate.getDay()]);

			setInterval( function() {

				var seconds = new Date().getSeconds();

				$("#sec").html(( seconds < 10 ? "0" : "" ) + seconds);
				},1000);
				
			setInterval( function() {

				var minutes = new Date().getMinutes();

				$("#min").html(( minutes < 10 ? "0" : "" ) + minutes);
				},1000);
				
			setInterval( function() {

				var hours = new Date().getHours();

				$("#hours").html(( hours < 10 ? "0" : "" ) + hours);
				}, 1000);


			$('#bkg').fadeOut(8000);
			coverVid(document.querySelector('.masthead-video'), 1920, 1200);

			$('#story').hover(function(){
				console.log("shows up");
				$('#storyPic').fadeIn(500);
				$('.clock, #story').css('background-color','rgba(255,105,180,0.8)');
			},function(){
				console.log("hide up");		
				$('#storyPic').fadeOut(500);
				$('#story').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#walkThrough').hover(function(){
				console.log("shows up");
				$('#wlkTPic').fadeIn(500);
				$('.clock, #walkThrough').css('background-color','rgba(255,255,255,0.8)');
			},function(){				
				$('#wlkTPic').fadeOut(500);
				$('#walkThrough').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#devLog').hover(function(){
				console.log("shows up");
				$('#devLogPic').fadeIn(500);
				$('.clock, #devLog').css('background-color','rgba(75,0,130,0.8)');
			},function(){				
				$('#devLogPic').fadeOut(500);
				$('#devLog').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#froum').hover(function(){
				console.log("shows up");
				$('#froumPic').fadeIn(500);
				$('.clock, #froum').css('background-color','rgba(118,238,0,0.8)');
			},function(){				
				$('#froumPic').fadeOut(500);
				$('#froum').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#onlineChat').hover(function(){
				console.log("shows up");
				$('#oCPic').fadeIn(500);
				$('.clock, #onlineChat').css('background-color','rgba(0,178,238,0.8)');
			},function(){				
				$('#oCPic').fadeOut(500);
				$('#onlineChat').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#credits').hover(function(){
				console.log("shows up");
				$('#creidtsPic').fadeIn(500);
				$('.clock, #credits').css('background-color','rgba(255,20,147,0.8)');
			},function(){				
				$('#creidtsPic').fadeOut(500);
				$('#credits').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#email').hover(function(){
				console.log("shows up");
				$('#emailPic').fadeIn(500);
				$('.clock, #email').css('background-color','rgba(106,90,205,0.8)');
			},function(){				
				$('#emailPic').fadeOut(500);
				$('#email').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#logIn').hover(function(){
				console.log("shows up");
				$('#logInPic').fadeIn(500);
				$('.clock, #logIn').css('background-color','rgba(0,255,0,0.8)');
			},function(){				
				$('#logInPic').fadeOut(500);
				$('#logIn').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});
			$('#signUp').hover(function(){
				console.log("shows up");
				$('#signUpPic').fadeIn(500);
				$('.clock, #signUp').css('background-color','rgba(255,52,179,0.8)');
			},function(){				
				$('#signUpPic').fadeOut(500);
				$('#signUp').css('background-color','transparent');
				$('.clock').css('background-color','rgba(255,215,0,0.8)');
			});

			$('#logInBtn').click(function(){
				if($('#logUN').val()==null||$('#logPW').val()==null||$('#logUN').val().trim()==''||$('#logPW').val().trim()==''){
					$('#logErr').html('用戶名或密碼不能為空!');
					return;
				}
				$('#logInPad').submit();
			});
			$('#signUpBtn').click(function(){
				if($('#signUN').val()==null||$('#signPW').val()==null||$('#signUN').val().trim()==''||$('#signUN').val().trim()==''||$('#signRPW').val()==null||$('#signRPW').val().trim()==''||$('#email').val().trim()==''||$('#email').val()==null){
					$('#signErr').html('用戶信息不能為空!');
					return;
				}
				if($('#email').val().indexOf('@')==-1){					
					$('#signErr').html('郵箱不正確！');
					return;
				}
				$('#signUpPad').submit();
			});

			$('#logIn').click(function(){
				console.log('login clicked');
				$('.component').fadeOut(1000,function(){
					$('#logInPad').fadeIn(1000);
				});
			});
			$('#cancel1').click(function(){
				$('#logInPad').fadeOut(1000,function(){
					$('.inputContent').find('input').val('');
					$('.component').fadeIn(1000);
				});
			});
			$('#signUp').click(function(){
				console.log('login clicked');
				$('.component').fadeOut(1000,function(){
					$('#signUpPad').fadeIn(1000);
				});
			});			
			$('#cancel2').click(function(){
				$('#signUpPad').fadeOut(1000,function(){
					$('.inputContent').find('input').val('');
					$('.component').fadeIn(1000);
				});
			});

			$('#muteBtn').click(function(){
				$('#muteBtn').hide();
				$('#unmuteBtn').show();
				document.getElementById('ost').muted=true;

			});
			$('#unmuteBtn').click(function(){
				$('#unmuteBtn').hide();
				$('#muteBtn').show();
				document.getElementById('ost').muted=false;
			});
			$('#hideBtn').click(function(){
				console.log('hideBtn clicked!');
				$('#hideBtn').hide();
				$('.component').fadeOut(1000);
				$('#showBtn').delay(1200).fadeIn(0);
				console.log('content has faded out!');
			});
			$('#showBtn').click(function(){
				console.log('showBtn clicked!');
				$('#showBtn').hide();
				$('#hideBtn').show();
				$('.component').fadeIn(1000);
				console.log('content has faded in!');
			});
		});
		$(function(){
			var isMobile = false;

			if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
		  	|| /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))	  	
				isMobile = true;
			if(isMobile){
				$("#bkg2").fadeIn(1000);
				console.log('a mobile');
				$('#muteBtn').hide();
				$('#coverCont').hide();
			}else{
				console.log('not a mobile');
				$('#coverContM').hide();							
			}
		});